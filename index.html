<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Happy Birthday, Kas!</title>
    <script src="https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.157.0/examples/js/controls/OrbitControls.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        /* === SIMPLE PERSONAL MESSAGE ANIMATION === */
.personal-message {
    text-align: center;
    max-width: 800px;
    margin: 0 auto;
    opacity: 0;
    transform: translateY(30px);
    animation: simpleFadeIn 1.5s ease-out forwards;
}

.personal-message h2 {
    font-size: 3rem;
    color: #ffd700;
    margin-bottom: 24px;
    font-weight: 700;
}

.personal-message p {
    font-size: 1.6rem;
    line-height: 1.8;
    color: #f8f8f8;
    margin: 20px 0;
    font-weight: 500;
}

.personal-message .final-boom {
    font-size: 2.8rem;
    color: #ff6b9d;
    font-weight: 800;
    margin-top: 36px;
    letter-spacing: 1.5px;
}

/* TIGHTER FINAL SECTION ‚Äì LESS SPACE BELOW FIREWORKS */
#final-section {
    padding: 40px 25px !important;  
    min-height: auto !important;     
    margin-bottom: 80px !important;  
}

#final-section .container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    flex-wrap: wrap;
}

.amazing-title {
    font-size: 2.8rem;
    margin-bottom: 20px;
    color: #ff6b9d;
    display: inline-block;
}

.haha {
    font-size: 0.7rem;
    color: #ffd700;
    vertical-align: super;   /* lifts it slightly like a superscript */
    font-style: italic;
    opacity: 0.9;
}

/* Simple fade-in + slide-up */
@keyframes simpleFadeIn {
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

        body {
            background: #000;
            color: #fff;
            font-family: 'Arial', sans-serif;
            overflow-x: hidden;
            cursor: none;
            min-height: 100vh;
            padding-bottom: 60px;
        }

        canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        .cursor {
            position: fixed; width: 16px; height: 16px;
            background: radial-gradient(circle, #ffd700, #ff6b9d);
            border-radius: 50%; pointer-events: none; z-index: 9999;
            transform: translate(-50%, -50%); box-shadow: 0 0 15px #ffd700;
            transition: transform 0.1s ease;
        }

        .hero {
            height: 100vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center; padding: 20px;
        }

        h1 {
            font-size: 5rem; background: linear-gradient(45deg, #ffd700, #ff6b9d, #4ecdc4);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255,215,0,0.5); animation: glow 2s infinite alternate;
            margin-bottom: 20px;
        }

        @keyframes glow {
            from { text-shadow: 0 0 30px rgba(255,215,0,0.5); }
            to { text-shadow: 0 0 50px rgba(255,215,0,0.8); }
        }

        p.subtitle { font-size: 1.6rem; margin-bottom: 30px; opacity: 0; animation: fadeIn 2s forwards 1s; }
        @keyframes fadeIn { to { opacity: 1; } }

        button {
            background: linear-gradient(45deg, #ffd700, #ccac00); color: #1a2a44;
            padding: 16px 40px; border: none; border-radius: 50px; font-weight: bold; font-size: 1.3rem;
            cursor: pointer; box-shadow: 0 0 20px rgba(255,215,0,0.6); transition: all 0.3s;
        }
        button:hover { transform: translateY(-5px); box-shadow: 0 0 35px rgba(255,215,0,1); }

        section { padding: 120px 20px; text-align: center; min-height: 70vh; }
        .container { max-width: 1000px; margin: 0 auto; }

        /* 3D CAKE SECTION */
        #cake-container {
            width: 100%; height: 500px; margin: 40px 0; border-radius: 20px;
            overflow: hidden; background: rgba(0,0,0,0.3); position: relative;
        }

        #cake-container canvas {
            display: block !important;
            width: 100% !important;
            height: 100% !important;
            object-fit: contain;
        }

        #cake-info {
            position: absolute; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(0,0,0,0.7); padding: 12px 24px; border-radius: 50px;
            font-size: 1.1rem; backdrop-filter: blur(8px); z-index: 10;
        }

        /* WHY YOU'RE AMAZING */
        .reasons { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; margin-top: 40px; }
        .reason {
            background: rgba(255,255,255,0.1); padding: 20px; border-radius: 16px; width: 280px;
            backdrop-filter: blur(10px); opacity: 0; transform: translateY(30px); transition: all 0.6s;
            border: 1px solid rgba(255,215,0,0.2);
        }
        .reason.show { opacity: 1; transform: translateY(0); }
        .reason h3 { color: #ffd700; margin-bottom: 10px; }

        /* FUTURE WISH */
        .future-card {
            max-width: 700px; margin: 40px auto; padding: 40px; background: rgba(255,255,255,0.08);
            border-radius: 20px; backdrop-filter: blur(12px); border: 1px solid rgba(255,215,0,0.2);
            font-style: italic; line-height: 1.8; font-size: 1.2rem;
        }

        /* GUESTBOOK */
        .guestbook {
            max-width: 600px; margin: 40px auto; padding: 30px; background: rgba(255,255,255,0.1);
            border-radius: 16px; backdrop-filter: blur(10px);
        }
        textarea {
            width: 100%; padding: 16px; border-radius: 12px; border: none; background: rgba(255,255,255,0.15);
            color: white; font-size: 1rem; resize: none; margin-bottom: 16px;
        }
        textarea::placeholder { color: #ccc; }

        /* FOOTER */
        footer {
            position: fixed; bottom: 0; left: 0; width: 100%;
            background: rgba(0, 0, 0, 0.9); backdrop-filter: blur(6px);
            padding: 6px 12px; display: flex; justify-content: center; align-items: center;
            font-size: 0.7rem; color: #ddd; z-index: 100; gap: 6px;
            border-top: 1px solid rgba(255, 215, 0, 0.1); opacity: 0; transform: translateY(10px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
        footer.visible { opacity: 1; transform: translateY(0); }
        footer img { width: 24px; height: 24px; border-radius: 50%; border: 1.2px solid #ffd700; object-fit: cover; box-shadow: 0 0 8px rgba(255, 215, 0, 0.3); }
        .arrow { font-size: 0.9rem; color: #ffd700; animation: pulse 1.5s infinite; }
        @keyframes pulse { 0%, 100% { transform: translateX(0); } 50% { transform: translateX(3px); } }

        #footer img {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    border: 1.2px solid #ffd700;
    object-fit: cover;
    object-position: 20% 50%;   /* ‚Üê This shifts the image LEFT inside the circle */
    box-shadow: 0 0 8px rgba(255, 215, 0, 0.3);
    margin-left: 6px;
    transition: transform 0.2s ease;
}
    
    /* FLOATING SH AZAM-STYLE BUTTON */
/* FLOATING SH AZAM-STYLE BUTTON - LARGER GIF */
.floating-btn {
    position: fixed;
    bottom: 30px;
    right: 20px;
    z-index: 10000;
}

.fab-link {
    display: block;
    width: 70px;           /* Increased from 60px */
    height: 70px;          /* Increased from 60px */
    background: linear-gradient(135deg, #FF0000, #CC0000);
    border-radius: 50%;
    box-shadow: 0 4px 20px rgba(255, 0, 0, 0.4), 0 0 0 4px rgba(255, 255, 255, 0.2);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    text-decoration: none;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

.fab-link:hover {
    transform: scale(1.15) translateY(-2px);
    box-shadow: 0 8px 25px rgba(255, 0, 0, 0.6), 0 0 0 6px rgba(255, 255, 255, 0.3);
}

.fab-icon {
    width: 48px;           /* Increased from 36px */
    height: 48px;          /* Increased from 36px */
    border-radius: 50%;
    object-fit: cover;
    border: 2.5px solid white;
    filter: drop-shadow(0 0 6px rgba(255, 255, 255, 0.6));
}

/* Mobile: Still balanced */
@media (max-width: 768px) {
    .floating-btn { bottom: 20px; right: 15px; }
    .fab-link { width: 60px; height: 60px; }
    .fab-icon { width: 40px; height: 40px; }
}
    
    </style>
</head>
<body>

    <div class="cursor" id="cursor"></div>
    <canvas id="canvas"></canvas>

    <!-- HERO -->
    <section class="hero">
        <h1>Happy Birthday, Kas!</h1>
        <p class="subtitle">Wishing a gr8 day to the noobest noob ik :D</p>
        <button id="start-btn">Smash</button>
    </section>

    <!-- PERSONAL MESSAGE -->
    <section style="background: linear-gradient(135deg, #1a1a2e, #16213e); padding: 140px 20px;">
        <div class="container">
            <div class="personal-message">
                <h2 class="glow-title">Dear Kas,</h2>
                <p class="highlight-text">
                    Today is all about <span class="magic-word">you</span>. 
                    Your <span class="sparkle">smile</span>, your <span class="sparkle">energy</span>, 
                    your <span class="sparkle">heart</span> ‚Äî they make the world <span class="magic-word">brighter</span>.
                </p>
                <p class="wish-text">
                    May this year bring you <span class="magic-word">joy</span>, 
                    <span class="magic-word">love</span>, and <span class="magic-word">dreams come true</span>.
                </p>
                <h3 class="final-boom">
                    <span class="star"></span> Happy Birthday, <span class="superstar">superstar!</span> <span class="star"></span>
                </h3>
            </div>
        </div>
    </section>

    <!-- WHY YOU'RE AMAZING -->
    <section>
        <div class="container">
            <h2 class="amazing-title">
                Why You're Amazing 
                <span class="haha">but noob</span>
            </h2>
            <div class="reasons">
                <div class="reason"><h3>1. Your Smile</h3><p>Lights up every room like sunrise.</p></div>
                <div class="reason"><h3>2. Your Kindness</h3><p>You make strangers feel like family. </p></div>
                <div class="reason"><h3>3. Your Strength</h3><p>You turn storms into rainbows.</p></div>
                <div class="reason"><h3>4. Your Humor</h3><p>Even your sneezes are funny.</p></div>
                <div class="reason"><h3>5. Your Dreams</h3><p>You inspire everyone around you.</p></div>
                <div class="reason"><h3>6. You</h3><p>Just... everything about you.</p></div>
            </div>
        </div>
    </section>

    <!-- FUTURE WISH -->
    <section style="background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);">
        <div class="container">
            <h2 style="font-size: 2.8rem; margin-bottom: 30px; color: #4ecdc4;">A Wish from the Future</h2>
            <div class="future-card">
                <p><strong>Dear Kas (from 2035),</strong></p>
                <p>You're now living your dream ‚Äî traveling, creating, and surrounded by love. 
                That little idea you had? It changed lives. 
                The world is better because you're in it. 
                Keep shining. The best is yet to come.</p>
                <p style="text-align: right; margin-top: 20px;"><em>‚Äî Future You</em></p>
            </div>
        </div>
    </section>

<!-- GUESTBOOK -->
<section>
    <div class="container">
        <h2 style="font-size: 2.8rem; margin-bottom: 20px; color: #ffd700;">Leave a Wish!</h2>
        <div class="guestbook">
            <form id="wish-form" action="https://formspree.io/f/xblpqvzn" method="POST">
                <input type="email" name="email" placeholder="Your email (optional)" style="width: 100%; padding: 16px; border-radius: 12px; border: none; background: rgba(255,255,255,0.15); color: white; font-size: 1rem; margin-bottom: 16px; box-sizing: border-box;">
                <textarea name="wish" id="wish-input" rows="3" placeholder="Type your birthday wish..." required></textarea>
                <button type="submit" id="submit-wish">Send Wish</button>
            </form>
            <p id="form-status" style="margin-top: 10px; font-size: 0.9rem; color: #4ecdc4;"></p>
        </div>
    </div>
</section>

    <!-- FINAL SECTION -->
    <section id="final-section">
        <div class="container">
            <button id="fireworks-btn">Launch Fireworks!</button>
        </div>
    </section>

    <!-- FOOTER -->
    <footer id="footer">
        <span>Made by this guy</span>
        <span class="arrow">‚Üí</span>
        <img id="creator-photo" src=".//1762100804130.jpg" alt="Creator" />
    </footer>

<!-- FLOATING SH AZAM-STYLE BUTTON with "Click Me" GIF -->
<!-- FLOATING YOUTUBE BUTTON -->
<div class="floating-btn">
    <a href="javascript:void(0)" class="fab-link" onclick="goToYouTube()">
        <img src="https://media.giphy.com/media/l0HlRnAWXxn0MhKLK/giphy.gif" alt="Click Me!" class="fab-icon" />
    </a>
</div>

    <!-- MUSIC -->
    <audio id="music" loop crossorigin="anonymous">
        <source src="https://cdn.freesound.org/previews/620/620373_5674468-lq.mp3" type="audio/mp3">
    </audio>

    <script>
        // === 2D PARTICLE ENGINE ===
        const canvas2d = document.getElementById('canvas');
        const ctx = canvas2d.getContext('2d');
        let width, height, particles = [], balloons = [], mouseX = 0, mouseY = 0, lastScrollY = 0;

        function resize() { 
            width = canvas2d.width = window.innerWidth; 
            height = canvas2d.height = window.innerHeight; 
        }
        resize(); 
        window.addEventListener('resize', resize);

        const cursor = document.getElementById('cursor');
        document.addEventListener('mousemove', e => {
            mouseX = e.clientX; mouseY = e.clientY;
            cursor.style.left = mouseX + 'px'; 
            cursor.style.top = mouseY + 'px';
            if (Math.random() > 0.9) particles.push(createSpark(mouseX, mouseY));
        });

        function createSpark(x, y) {
            return { 
                x, y, 
                vx: (Math.random() - 0.5) * 4, 
                vy: (Math.random() - 0.5) * 4, 
                life: 30,
                color: ['#ffd700', '#ff6b9d', '#4ecdc4'][Math.floor(Math.random() * 3)] 
            };
        }

        // Funny alert when clicking the creator's photo
document.getElementById('creator-photo').addEventListener('click', function(e) {
    e.preventDefault(); // Prevent any default behavior
    alert('Ouch! Don\'t touch me!');
});

        window.addEventListener('scroll', () => {
            const scrollDiff = window.scrollY - lastScrollY;
            if (Math.abs(scrollDiff) > 10) {
                const count = Math.min(Math.abs(scrollDiff) / 5, 30);
                const side = scrollDiff > 0 ? 'left' : 'right';
                for (let i = 0; i < count; i++) {
                    const x = side === 'left' ? -10 : width + 10;
                    const y = Math.random() * height;
                    particles.push({ 
                        x, y, 
                        vx: side === 'left' ? 2 + Math.random() * 3 : -2 - Math.random() * 3,
                        vy: (Math.random() - 0.5) * 3, 
                        life: 40 + Math.random() * 20,
                        color: ['#ffd700', '#ff6b9d'][Math.floor(Math.random() * 2)], 
                        size: 3 + Math.random() * 3 
                    });
                }
            }
            lastScrollY = window.scrollY;

            const footer = document.getElementById('footer');
            const finalSection = document.getElementById('final-section');
            const trigger = finalSection.offsetTop + finalSection.offsetHeight - window.innerHeight - 100;
            footer.classList.toggle('visible', window.scrollY >= trigger);
        });

        for (let i = 0; i < 8; i++) {
            balloons.push({ 
                x: Math.random() * width, 
                y: height + 100, 
                vy: -1 - Math.random() * 1.5,
                color: ['#ff6b6b', '#4ecdc4', '#ffd700', '#9b59b6'][i % 4], 
                size: 25 + Math.random() * 20 
            });
        }

        function animate2d() {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.07)'; 
            ctx.fillRect(0, 0, width, height);

            balloons.forEach(b => {
                b.y += b.vy; 
                if (b.y < -100) { 
                    b.y = height + 100; 
                    b.x = Math.random() * width; 
                }
                ctx.fillStyle = b.color; 
                ctx.beginPath(); 
                ctx.arc(b.x, b.y, b.size, 0, Math.PI * 2); 
                ctx.fill();
            });

            for (let i = particles.length - 1; i >= 0; i--) {
                const p = particles[i]; 
                p.x += p.vx; 
                p.y += p.vy; 
                p.vy += 0.15; 
                p.life--;
                if (p.life <= 0 || p.x < -50 || p.x > width + 50 || p.y > height + 50) { 
                    particles.splice(i, 1); 
                    continue; 
                }
                ctx.globalAlpha = p.life / 50; 
                ctx.fillStyle = p.color;
                ctx.fillRect(p.x - (p.size || 2), p.y - (p.size || 2), (p.size || 4), (p.size || 4));
            }
            ctx.globalAlpha = 1; 
            requestAnimationFrame(animate2d);
        }
        animate2d();

        // === 3D CAKE WITH THREE.JS ===
        let cakeRenderer, cakeScene, cakeCamera, cakeControls, cakeGroup;

        function init3DCake() {
            const container = document.getElementById('cake-container');
            if (!container) return;

            const checkSize = setInterval(() => {
                if (container.clientWidth > 0 && container.clientHeight > 0) {
                    clearInterval(checkSize);
                    setupCake(container);
                }
            }, 100);
        }

        function setupCake(container) {
            const width = container.clientWidth;
            const height = container.clientHeight;

            cakeScene = new THREE.Scene();
            cakeScene.background = new THREE.Color(0x0f0c29);

            cakeCamera = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);
            cakeCamera.position.set(0, 2.5, 7);
            cakeCamera.lookAt(0, 1, 0);

            cakeRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: false });
            cakeRenderer.setSize(width, height);
            cakeRenderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            container.appendChild(cakeRenderer.domElement);

            cakeControls = new THREE.OrbitControls(cakeCamera, cakeRenderer.domElement);
            cakeControls.enableDamping = true;
            cakeControls.enableZoom = true;
            cakeControls.enablePan = false;
            cakeControls.minPolarAngle = Math.PI / 4;
            cakeControls.maxPolarAngle = Math.PI / 2.1;

            const ambient = new THREE.AmbientLight(0x666666, 1);
            cakeScene.add(ambient);
            const light = new THREE.PointLight(0xffffff, 1.8, 100);
            light.position.set(5, 8, 5);
            cakeScene.add(light);

            const floorGeometry = new THREE.CircleGeometry(6, 32);
            const floorMaterial = new THREE.MeshPhongMaterial({ color: 0x222233, side: THREE.DoubleSide });
            const floor = new THREE.Mesh(floorGeometry, floorMaterial);
            floor.rotation.x = -Math.PI / 2;
            floor.position.y = -0.1;
            cakeScene.add(floor);

            cakeGroup = new THREE.Group();
            cakeScene.add(cakeGroup);

            const cakeGeometry = new THREE.CylinderGeometry(2, 2.2, 1.5, 32);
            const cakeMaterial = new THREE.MeshPhongMaterial({ color: 0xff69b4, shininess: 40, specular: 0x333333 });
            const cake = new THREE.Mesh(cakeGeometry, cakeMaterial);
            cake.position.y = 0.75;
            cakeGroup.add(cake);

            const frostingGeometry = new THREE.CylinderGeometry(2.1, 2.3, 0.3, 32);
            const frostingMaterial = new THREE.MeshPhongMaterial({ color: 0xffffff });
            const frosting = new THREE.Mesh(frostingGeometry, frostingMaterial);
            frosting.position.y = 1.65;
            cakeGroup.add(frosting);

            const candles = [];
            const flames = [];
            const candlePositions = [
                [-0.8, 1.8, 0.8], [0.8, 1.8, 0.8], [0, 1.8, 1.1],
                [-0.8, 1.8, -0.8], [0.8, 1.8, -0.8], [0, 1.8, -1.1]
            ];

            candlePositions.forEach(pos => {
                const candleGeom = new THREE.CylinderGeometry(0.08, 0.08, 0.8, 8);
                const candleMat = new THREE.MeshPhongMaterial({ color: 0xffffcc });
                const candle = new THREE.Mesh(candleGeom, candleMat);
                candle.position.set(...pos);
                candle.userData.lit = true;
                cakeGroup.add(candle);
                candles.push(candle);

                const flameGeom = new THREE.SphereGeometry(0.16, 8, 8);
                const flameMat = new THREE.MeshBasicMaterial({ color: 0xffaa00 });
                const flame = new THREE.Mesh(flameGeom, flameMat);
                flame.position.set(pos[0], pos[1] + 0.5, pos[2]);
                flame.visible = true;
                cakeGroup.add(flame);
                flames.push(flame);
            });

            let candlesLit = 6;

            cakeRenderer.domElement.addEventListener('click', () => {
                if (candlesLit <= 0) return;
                const litCandle = candles.find(c => c.userData.lit);
                if (!litCandle) return;
                const idx = candles.indexOf(litCandle);
                litCandle.userData.lit = false;
                flames[idx].visible = false;
                candlesLit--;

                for (let i = 0; i < 40; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const speed = 2 + Math.random() * 5;
                    particles.push({
                        x: width * 0.5 + (Math.random() - 0.5) * 100,
                        y: height * 0.5,
                        vx: Math.cos(angle) * speed,
                        vy: Math.sin(angle) * speed - 2,
                        life: 25,
                        color: '#ffaa00',
                        size: 2
                    });
                }

                if (candlesLit === 0) {
                    setTimeout(() => {
                        alert("All candles blown out! Make a wish, Kas!");
                    }, 500);
                }
            });

            document.querySelector('.fab-link').addEventListener('click', () => {
    console.log('üéµ Pop!'); // Or trigger particles!
});

            function animate() {
                requestAnimationFrame(animate);
                cakeGroup.rotation.y += 0.005;
                flames.forEach((f, i) => {
                    if (f.visible) {
                        f.scale.y = 0.7 + Math.sin(Date.now() * 0.005 + i) * 0.3;
                        f.position.y = candlePositions[i][1] + 0.5 + Math.random() * 0.06;
                    }
                });
                cakeControls.update();
                cakeRenderer.render(cakeScene, cakeCamera);
            }
            animate();

            window.addEventListener('resize', () => {
                const w = container.clientWidth;
                const h = container.clientHeight;
                cakeCamera.aspect = w / h;
                cakeCamera.updateProjectionMatrix();
                cakeRenderer.setSize(w, h);
            });
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init3DCake);
        } else {
            init3DCake();
        }

        // === INTERACTIONS ===
        document.getElementById('start-btn').onclick = () => {
            for (let i = 0; i < 250; i++) {
                const angle = Math.random() * Math.PI * 2; 
                const speed = 5 + Math.random() * 15;
                particles.push({ 
                    x: width / 2, y: height / 2, 
                    vx: Math.cos(angle) * speed, 
                    vy: Math.sin(angle) * speed,
                    life: 50, 
                    color: ['#ffd700', '#ff6b9d', '#4ecdc4', '#ff6b6b'][Math.floor(Math.random() * 4)] 
                });
            }
            setTimeout(() => window.scrollTo({ 
                top: document.querySelector('section:nth-of-type(2)').offsetTop, 
                behavior: 'smooth' 
            }), 300);
        };

        document.getElementById('fireworks-btn').onclick = () => {
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    const x = width * 0.2 + Math.random() * width * 0.6;
                    const y = height * 0.3 + Math.random() * height * 0.2;
                    for (let j = 0; j < 70; j++) {
                        const angle = (j / 70) * Math.PI * 2; 
                        const speed = 8 + Math.random() * 8;
                        particles.push({ 
                            x, y, 
                            vx: Math.cos(angle) * speed, 
                            vy: Math.sin(angle) * speed,
                            life: 60, 
                            color: `hsl(${Math.random()*360},100%,70%)` 
                        });
                    }
                }, i * 180);
            }
        };

        setTimeout(() => {
            const audio = document.getElementById('music'); 
            audio.volume = 0.3;
            audio.play().catch(() => {});
        }, 2000);

        const reasons = document.querySelectorAll('.reason');
        const observer = new IntersectionObserver(entries => {
            entries.forEach(entry => { 
                if (entry.isIntersecting) entry.target.classList.add('show'); 
            });
        }, { threshold: 0.3 });
        reasons.forEach(r => observer.observe(r));

        // Real form submission via Formspree
const form = document.getElementById('wish-form');
const status = document.getElementById('form-status');

form.addEventListener('submit', function(e) {
    e.preventDefault(); // Stop default form submit

    const formData = new FormData(form);
    fetch(form.action, {
        method: 'POST',
        body: formData,
        headers: {
            'Accept': 'application/json'
        }
    })
    .then(response => {
        if (response.ok) {
            status.innerHTML = 'Will try the best to fulfill your wish mon cherüòä';
            status.style.color = '#4ecdc4';
            form.reset();
            // Optional: Trigger particles like before
            for (let i = 0; i < 200; i++) {
                const angle = Math.random() * Math.PI * 2; 
                const speed = 5 + Math.random() * 12;
                particles.push({ 
                    x: width/2, y: height/2, 
                    vx: Math.cos(angle)*speed, 
                    vy: Math.sin(angle)*speed,
                    life: 50, 
                    color: ['#ffd700', '#ff6b9d', '#4ecdc4'][Math.floor(Math.random()*3)] 
                });
            }
        } else {
            status.innerHTML = 'Oops! Something went wrong. Try again?';
            status.style.color = '#ff6b9d';
        }
    })
    .catch(error => {
        status.innerHTML = 'Network error. Please try again!';
        status.style.color = '#ff6b9d';
    });
});

function goToYouTube() {
    // Show fun alert
    alert("üéâ Surprise! Kas, you are loved more than words can say üíï");

    // Open YouTube in NEW TAB (bypasses popup blocker)
    const youtubeTab = window.open('', '_blank');
    if (youtubeTab) {
        youtubeTab.location = 'https://www.youtube.com/watch?v=oAQmRO42UHc';
    } else {
        // Fallback: if blocked, open in same tab
        window.location.href = 'https://www.youtube.com/watch?v=oAQmRO42UHc';
    }
}
    </script>
</body>
</html>
